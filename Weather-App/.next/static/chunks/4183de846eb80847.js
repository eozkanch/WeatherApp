(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.s(["_",()=>t])},32900,e=>{"use strict";e.s(["default",()=>r],32900),e.i(43476);var t=e.i(71645),a=e.i(99749);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}async getCacheSize(){if(!("caches"in window))return{static:0,dynamic:0,total:0};try{let e=await caches.open(this.cacheNames.static),t=await caches.open(this.cacheNames.dynamic),a=await e.keys(),i=await t.keys(),c=100*a.length,r=50*i.length;return{static:c,dynamic:r,total:c+r}}catch(e){return{static:0,dynamic:0,total:0}}}async clearCache(){if(!("caches"in window))return!1;try{let e=await caches.keys();return await Promise.all(e.map(e=>caches.delete(e))),!0}catch(e){return!1}}async clearSpecificCache(e){if(!("caches"in window))return!1;try{let t=this.cacheNames[e];return await caches.delete(t)}catch(e){return!1}}async getCacheStatus(){if(!("caches"in window))return{isSupported:!1,hasStaticCache:!1,hasDynamicCache:!1,totalEntries:0};try{let e=await caches.open(this.cacheNames.static),t=await caches.open(this.cacheNames.dynamic),a=await e.keys(),i=await t.keys();return{isSupported:!0,hasStaticCache:a.length>0,hasDynamicCache:i.length>0,totalEntries:a.length+i.length}}catch(e){return{isSupported:!0,hasStaticCache:!1,hasDynamicCache:!1,totalEntries:0}}}async getServiceWorkerStatus(){if(!("serviceWorker"in navigator))return{isSupported:!1,isRegistered:!1,isActive:!1};try{let e=await navigator.serviceWorker.getRegistration();return{isSupported:!0,isRegistered:!!e,isActive:!!(null==e?void 0:e.active),registration:e}}catch(e){return{isSupported:!0,isRegistered:!1,isActive:!1}}}async rebuildCache(){try{if(await this.clearCache(),"serviceWorker"in navigator){let e=await navigator.serviceWorker.getRegistration();e&&await e.update()}return!0}catch(e){return!1}}async getCacheStats(){let[e,t,a]=await Promise.all([this.getCacheSize(),this.getCacheStatus(),this.getServiceWorkerStatus()]);return{cacheSize:e,cacheStatus:t,swStatus:a}}constructor(){(0,a._)(this,"cacheNames",{static:"weather-app-static-v1.0.0",dynamic:"weather-app-dynamic-v1.0.0"})}}(0,a._)(i,"instance",void 0);let c=i.getInstance();function r(){let[e,a]=(0,t.useState)(null),[i,r]=(0,t.useState)(!1),[s,n]=(0,t.useState)(!1),h=async()=>{r(!0);try{let e=await c.getCacheStats();a(e)}catch(e){}finally{r(!1)}};return(0,t.useEffect)(()=>{s&&h()},[s]),null}},3895,e=>{e.n(e.i(32900))}]);